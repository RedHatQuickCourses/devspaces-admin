<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Managing Workspaces from the CLI :: Red Hat OpenShift Dev Spaces Administration</title>
    <link rel="prev" href="fuse-overlay.html">
    <link rel="next" href="storage.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../..">Red Hat OpenShift Dev Spaces Administration</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/devspaces-admin/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="devspaces-admin" data-version="3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Red Hat OpenShift Dev Spaces Administration</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="install.html">Install</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prereqs.html">Pre-requisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="operator.html">OpenShift Web Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cli.html">CLI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gitops.html">GitOps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="upgrade.html">Upgrade</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="remove.html">Uninstall</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="config.html">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="che-cluster.html">CheCluster CR</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="image-puller.html">Image Puller</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fuse-overlay.html">fuse-overlayfs</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="workspaces-cli.html">Managing Workspaces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="storage.html">Workspace Storage</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Red Hat OpenShift Dev Spaces Administration</span>
    <span class="version">3</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">Red Hat OpenShift Dev Spaces Administration</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">3</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Red Hat OpenShift Dev Spaces Administration</a></li>
    <li><a href="config.html">Configuration</a></li>
    <li><a href="workspaces-cli.html">Managing Workspaces</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Managing Workspaces from the CLI</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Dev Spaces dashboard provides developers and intuitive, easy to use web-based user interface to create and manage Workspaces. You can also manage workspaces using the <code>oc</code> CLI since OpenShift Dev Spaces workspaces are represented as <code>DevWorkspace</code> custom resources (CR) in the OpenShift cluster.</p>
</div>
<div class="paragraph">
<p>For example, if a user creates a workspace named <code>my-workspace</code> in the OpenShift Dev Spaces dashboard, there will a corresponding <code>DevWorkspace</code> custom resource named <code>my-workspace</code> in the users project (All workspaces are created in a dedicated namespace, allocated per user) on the cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_openshift_dev_spaces/3.16/html-single/user_guide/index#managing-workspaces-with-apis" target="_blank" rel="noopener">Managing workspaces with OpenShift APIs</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_managing_workspaces_using_the_oc_cli"><a class="anchor" href="#_lab_managing_workspaces_using_the_oc_cli"></a>Lab: Managing Workspaces Using the oc CLI</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to the OpenShift Dev Spaces dashboard as the <code>user1</code> user. Launch a few workspaces from the dashboard.</p>
</li>
<li>
<p>Use the <code>oc</code> CLI and log in as the <code>admin</code> user</p>
<div class="listingblock">
<div class="content">
<pre>$ oc login -u admin  <em>&lt;OpenShift API URL&gt;</em></pre>
</div>
</div>
</li>
<li>
<p>List the workspaces for a specific user. Recall that each user gets his own dedicated namespace. When the workspace is being created, the <code>INFO</code> column shows <code>Waiting for workspace deployment</code>. Once the workspace is running, the <code>INFO</code> column shows a unique URL to access the workspace.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc get devworkspaces -n user1-devspaces
<em>NAME            DEVWORKSPACE ID  PHASE     INFO
nodejs-web-app   workspacee9a...  Starting  https://&lt;devspaces_url&gt;/&lt;user&gt;/&lt;workspace_name&gt;/&lt;unique_id&gt;
rust             workspacedcc...  Starting  https://&lt;devspaces_url&gt;/&lt;user&gt;/&lt;workspace_name&gt;/&lt;unique_id&gt;</em></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To list all workspaces created by all the users, run <code>oc get devworkspaces --all-namespaces</code>. You can also use the <code>dw</code> short alias for the <code>devworkspaces</code> resource. That is, <code>oc get dw --all-namespaces</code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Stop a running workspace. Use the value from the <code>NAME</code> column in the previous step.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc patch dw/rust -p '{"spec":{"started":false}}' --type=merge -n user1-devspaces
<em>devworkspace.workspace.devfile.io/rust patched</em></pre>
</div>
</div>
</li>
<li>
<p>Verify that the workspace is stopped.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc get dw -n user1-devspaces
<em>NAME             DEVWORKSPACE ID             PHASE     INFO
nodejs-web-app   workspacee9a88f17c11f41dd   Running    https://devspaces...
rust             workspacedcc0e049958d45dd   <strong>Stopped</strong>  Stopped</em></pre>
</div>
</div>
</li>
<li>
<p>Restart a stopped workspace. After a while, run the <code>oc get dw -n user1-devspaces</code> to verify that the workspace is started.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc patch dw/rust -p '{"spec":{"started":true}}' --type=merge -n user1-devspaces
<em>devworkspace.workspace.devfile.io/rust patched</em></pre>
</div>
</div>
</li>
<li>
<p>Delete a workspace. After a while, run the <code>oc get dw -n user1-devspaces</code> to verify that the workspace has been deleted.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc delete dw/rust -n user1-devspaces
<em>devworkspace.workspace.devfile.io "rust" deleted</em></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can also create a workspace using the <code>oc</code> CLI. This process involves cutting and pasting sections from your devfile and then creating a YAML resource file manually for the <code>devworkspaces</code> resource. You can then apply this YAML file to the OpenShift cluster to create the workspace. Refer to <a href="https://docs.redhat.com/en/documentation/red_hat_openshift_dev_spaces/3.16/html-single/user_guide/index#managing-workspaces-with-apis-creating-workspaces" class="bare">https://docs.redhat.com/en/documentation/red_hat_openshift_dev_spaces/3.16/html-single/user_guide/index#managing-workspaces-with-apis-creating-workspaces</a> for details.
</td>
</tr>
</table>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="fuse-overlay.html">fuse-overlayfs</a></span>
  <span class="next"><a href="storage.html">Workspace Storage</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
